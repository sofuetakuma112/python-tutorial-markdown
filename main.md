# Python 実習

## はじめに

今回の導入教育では python の基本的な構文や文法について学習する．開発環境は GoogleColaboratory を使用する．GoogleColaboratory の使い方は「 Google colab.pdf 」を参照してください．

## 基礎

### 文字列

Python では, 文章や人名といったの文字からなるデータを, **文字列(string)** という.
文字列をソースコードに書くには`"`(ダブルクォーテーション)または`'`(シングルクォーテーション)で囲んで記述する．また文字列は間に「+」を入力することで結合することができる．次の例では文字列を`print`関数を用いて出力している.

`print`関数は, 引数として指定した値を画面に出力します.

```py
print("python実習")
print('Lorem ipsum dolor sit amet, consectetur adipiscing elit')
print('left' + ' ' + "right")
```

```
python実習
Lorem ipsum dolor sit amet, consectetur adipiscing elit
left right
```

### 数値

数値は Python で四則計算などを行う場合に使用される．数値は文字列のように`"`や`'`で囲む必要はない．また`int`は後述する **データ型** を示している．

```py
print(int(1) + int(3)) # 足し算
print(int(1) - int(3)) # 引き算
print(int(1) * int(3)) # かけ算
print(int(1) / int(3)) # 割り算
print(int(1) % int(3)) # 余り
print(int(2) ** int(3)) # べき乗
```

```
4
-2
3
0.3333333333333333
1
8
```

### 変数

変数とは値を格納する場所であり，数値やデータなどを格納することができる．次の例では変数`x`, `y`にそれぞれ値を代入して`print`関数で出力している

```py
x = 8
y = "python実習"
print(x)
print(y)
```

```
8
python実習
```

### データ型

Python では, これまで紹介してきたような, 整数や実数, 文字列などのデータのことを, **オブジェクト(Object)** という用語で呼ぶ.

オブジェクトには, 整数や実数など, いろいろな種類がある.オブジェクトの種類のことを, **データ型**と呼ぶ.

例えば数字の`2`は, **整数型のオブジェクト**, 文字列の`abc`は, **文字列型のオブジェクト** という呼び方をする.

以下に Python の主なデータ型を示す.

| データ型            | 説明                                                                                                                                                                                          | 記述例                                               |
| ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------- |
| `str`(文字列)       | 文字列                                                                                                                                                                                        | `str = 'abc'`                                        |
| `int`(整数)         | 小数点を含まない数値                                                                                                                                                                          | `num = 6`                                            |
| `float`(浮動小数点) | 小数点を含む数値                                                                                                                                                                              | `num = 3.14`                                         |
| `bool`(ブール)      | 真偽値                                                                                                                                                                                        | `check_flg = True`                                   |
| `datetime`(日付)    | 日付                                                                                                                                                                                          | `date1 = datetime.datetime(2020, 1, 31, 12, 36, 45)` |
| `list`(リスト)      | 複数の要素(文字列, 整数, 論理など)を含むもの. `[]`を使って定義し, 各要素の間は`,`(カンマ)で区切る. 格納した各要素の変更が可能                                                                 | `list = ['abc', 6, True]`                            |
| `tuple`(タプル)     | 複数の要素(文字列, 整数, 論理など)を含むもの. `()` を使って定義し, 各要素の間は`,`(カンマ)で区切る 格納した各要素の変更は不可能                                                               | `tuple = ('abc', 6, True)`                           |
| `str`(文字列)       | 複数の要素（文字列, 整数, 論理など）を含むもの. `{}`を使って定義し, 各要素は, キーと組合せて間に`:`(コロン)を挟み記述する. キー値と合わせて値を設定することにより, キー値を元に値を参照できる | `dict = {'Key1' : 'Val1', 'Key2' : 'Val2'}`          |

### 比較演算子

Python では, 不等号を使って, 2 つの値を比較し, その不等式が正しいかどうかを調べることができる.

例えば, 次の式は, 数値の`100`と`10`を`>`記号で比較して, `100`が`10`よりも大きいかどうか調べる.

```py
print(100 > 10)
```

```
True
```

`>`は, 数値の`100`と`10`を比較する演算子である. 比較の結果, `100`のほうが`10`よりも大きければ, `>`演算子の条件が満たされるので, `True`(真)という値を返す. `True`は **ブール型** の値である.

また次の例では `10`と`100`を比較する. `10`は`100`よりも小さいので, `>`演算子の条件が満たされず, `False`(偽)という値を返す.

```py
print(10 > 100)
```

```
False
```

`False`も, `True`と同様に, **ブール型** という種類の値である. 
このように, 値を比較する演算子を, **比較演算子** という.

比較演算子は, 2つの値を比較し, 条件が成立すれば **ブール型** の`True`(真)を, 成立しなければ **ブール型** の`False`(偽)を返す.

主な比較演算子には, 以下のような種類がある.

| 演算子   | 条件                    |
| -------- | ----------------------- |
| `a < b`  | a は b より小さい       |
| `a <= b` | a は b と等しいか小さい |
| `a > b`  | a は b より大きい       |
| `a >= b` | a は b と等しいか大きい |
| `a == b` | a と b は等しい         |
| `a != b` | a と b は等しくない     |

### if 文

if 文は条件分岐の処理を行うことができる構文である．if の後に条件式を記入することで条件に一致した場合の処理が行われる．また elif や else を使用することで複数の条件分岐が可能である．使用例として図 1 は入力した整数を 3 で割った時の余りを表示している．

```py
print(" 整数を入力してください ")

a = int(input())
b = a % int(3)

if b == 0:
  print("余りは0")
elif b == 1:
  print("余りは1")
else:
  print("余りは2")
```

### while 文

while 文は繰り返し処理を行うことができる構文である．while 文では条件を指定することで条件が True の間はループ処理を続け，Fale になるとループを抜ける．使用例１を図 2 に示す．図 2 では i の値が 10 未満で print(i)を行い，i が 10 になるとループ処理を抜けてプログラムが終了する．ループ処理の途中でループを抜ける他の方法として break 文がある．使用例として図 3 を示す．図 3 では i が 3 になると break 文によりループ処理を抜ける．他の使用方法として無限ループで処理を行うことができる．使用例を図 4 に示す．図 4 では停止ボタンを押さない限り print(i)が表示される．

```py
i = 0
while i < 10:
  print(i)
  i = i + 1 # iの数値を1増加
```

```py
i = 0
while i < 10:
  if i == 3:
    break
  print(i)
  i = i + 1
```

```py
i = 0
while True:
  print(i)
  i = i + 1
```

### for 文

for 文は集合要素を一つずつ取り出して変数に代入し処理を行う．使用例として図 5 と図 6 を示す．図 5 では list 内の文字列を順番に表示している．図 6 では range()を使用することで数値の表示を行っている．

```py
lists = ["aaaa", "bbbb", "cccc", "dddd"]
for item in lists:
  print(item)
```

### 例外処理

例外処理とは, 本来行いたい処理 A で例外が生じた場合に処理 B を実行する際に使用する．使用例を図??に示す．図??ではエラーが発生した場合「整数を入力してください」と表示するようにしている．ただし図 7 の場合 except 節でエラーの指定を行っておらず全てのエラーが含まれ予想外のエラーも含まれるため，基本的な使用方法は図 8 のようにエラー定義をする．

```py
try:
  a = int(input())
  print("入力した整数は" + str(a) + "です")
except:
  print("整数を入力してください")
```

### 関数

Python には, 単純な足し算や引き算以外にも, 便利な機能がたくさん用意されています.そういった便利な機能の多くは, **関数**として利用できるようになっています.

**関数**は, 次の形式で利用します.

```py
関数名(引数1, 引数2, 引数3, ...)
```

関数を実行する時, 必要に応じて **引数(ひきすう)** を指定します.例えば, abs()という名前の関数は, 引数として数値を指定すると, その数値の絶対値が結果となります.次の例では, abs()に引数として数値の-200 を指定しています

```py
abs(-200) # 200
```

`abs(-200)`の結果として, `-200`の絶対値である`200`が出力されています. 
この`200`のように, 関数を呼び出して求めた結果の値のことを, **戻り値** や **返り値** などと呼びます. 
上の例では, 引数として`-200`を指定して関数`abs`を呼び出し, その戻り値として, `200`を得ています.

このような関数は, 用意されたものを使うだけではなく, 自分でも必要な関数を作れるようになっています.

関数を作ることを, プログラミング用語ではよく「関数を定義する」といいます.

関数の定義は, 次の形式で記述します.

```py
def 関数名(引数名1, 引数名2, ...):
  処理1
  処理2
  ...
```

次の例では四則計算を行っている．関数`calculation`の引数として変数`a`と`b`を渡しており，関数`calculation`側では, 関数呼び出し時に引数として渡された値(ここでは`a`, `b`)を変数`x`, `y`に格納して関数内で使用するように記述している．

```py
while True:
  try:
    print("1つ目の整数")
    a = int(input())
    print("2つ目の整数")
    b = int(input())
    break
  except ValueError:
    print("整数を入力してください")

def calculation(x, y):
  total = x + y
  difference = x - y
  product = x * y
  quotient = x / y
  print("和は" + str(total) + "です")
  print("差は" + str(difference) + "です")
  print("積は" + str(product) + "です")
  print("商は" + str(quotient) + "です")

calculation(a, b)
```
